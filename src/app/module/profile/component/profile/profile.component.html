<div class="row">
    <div class="col">
        <div class="top" >
            <section class="actions" [hidden]="actionButtonsHidden">
                <button
                    (click)="saveChanges()"
                    class="btn btn-sm btn-outline-info"
                    type="button"
                    >Zapisz
                </button>
                <button
                    (click)="cancelChanges()"
                    class="btn btn-sm btn-outline-info"
                    type="button"
                    >Anuluj
                </button>
            </section>
            <section class="background-image">
                <div class="image-selector" *ngIf="userIsProfileOwner">
                    <input 
                        (change)="loadBackgroundFile($event)"
                        #backgroundImageInput 
                        type="file"
                        accept="image/*" 
                        name="backgroundImage" 
                        id="background-image">
                    <button
                        (click)="triggerSelectDialog(backgroundImageInput)"
                        class="btn"
                        type="button">
                        <fa-icon [icon]="cameraIcon"></fa-icon>
                    </button>
                </div>
            </section>
            <section class="profile">
                <div class="profile-info">
                    <div class="profile-image" id="test">
                        <div class="image-selector" *ngIf="userIsProfileOwner">
                            <input 
                                (change)="loadProfileFile($event)"
                                #profileImageInput 
                                type="file"
                                accept="image/*" 
                                name="profileImage" 
                                id="profile-image">
                            <button
                                (click)="triggerSelectDialog(profileImageInput)"
                                class="btn"
                                type="button">
                                <fa-icon [icon]="cameraIcon"></fa-icon>
                            </button>
                        </div>
                    </div>
                    <div class="profile-text">
                        <div class="nick">
                            {{ user ? user.nick : null }}
                        </div>
                        <div class="visits">
                            0 wyświetleń
                        </div>
                    </div>
                    <div *ngIf="authUser && !userIsProfileOwner" class="profile-actions">
                        <button
                            (click)="watchUser()"
                            type="button"
                            class="btn btn-outline-primary"
                            > <fa-icon [icon]="watchUserIcon"></fa-icon>
                        </button>
                        <button
                            (click)="unwatchUser()"
                            type="button"
                            class="btn btn-outline-primary"
                            > <fa-icon [icon]="unwatchUserIcon"></fa-icon>
                        </button>
                        <button
                            (click)="sendMessageTo()"
                            type="button"
                            class="btn btn-outline-primary"
                            > <fa-icon [icon]="messageIcon"></fa-icon>
                        </button>
                    </div>
                </div>
                <div class="profile-links" *ngIf="user">
                    <ul class="list-group list-group-horizontal list-group-flush d-flex flex-wrap flex-md-nowrap">
                        <li class="list-group-item">
                            <button
                                [routerLink]="['/user', user.uid, 'wall']"
                                type="button" 
                                class="btn btn-outline-secondary"
                                >Tablica
                            </button>
                        </li>
                        <li class="list-group-item">
                            <button
                                [routerLink]="['/user', user.uid, 'watched-users']"
                                type="button" 
                                class="btn btn-outline-secondary"
                                >Obserwowani
                            </button>
                        </li>
                        <li class="list-group-item">
                            <button
                                [routerLink]="['/user', user.uid, 'watched-tags']"
                                type="button" 
                                class="btn btn-outline-secondary"
                                >Tagi
                            </button>
                        </li>
                        <li class="list-group-item">
                            <button
                                [routerLink]="['/user', user.uid, 'watched-mems']"
                                type="button" 
                                class="btn btn-outline-secondary"
                                >Memy
                            </button>
                        </li>
                        <!-- <li class="list-group-item">
                            <button
                                [routerLink]="['/user', userID, 'history']"
                                type="button" 
                                class="btn btn-outline-secondary"
                                >Historia
                            </button>
                        </li> -->
                    </ul>
                    <span class="points">
                        points
                    </span>
                </div>
            </section>
        </div>
    </div>
</div>
<div class="error-box" *ngIf="imageLoadingFail">
    {{ imageLoadingFail }}
</div>
<div class="row">
    <div class="col">
        <router-outlet></router-outlet>
    </div>
</div>
    
